<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Basic Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: lightblue;
            user-select: none; /* Disables text selection */
        }

        img {
            user-select: none;
            position: absolute;
        }
    </style>
</head>
<body>

    <!-- Game Elements -->
    <img id="myImg01" src="MainCharacterRight.png" style="width:100px; height:80px; left:50px; top:0px;">
    <img id="myImg02" src="myImage02.jpg" style="width:100px; height:80px; left:250px; top:100px;">

    <script>
        // Game Variables
        const img1 = document.getElementById("myImg01");
        const img2 = document.getElementById("myImg02");
        const speed = 3;
        const keyState = { w: false, a: false, s: false, d: false }; // Track key presses

        // Track keydown/up events
        document.addEventListener("keydown", (event) => {
            const key = event.key.toLowerCase();
            if (key in keyState) keyState[key] = true;
        });

        document.addEventListener("keyup", (event) => {
            const key = event.key.toLowerCase();
            if (key in keyState) keyState[key] = false;
        });

        // Custom Collision Detection
        function myHitOther(my1, my2) {
            const left1 = parseInt(my1.style.left);
            const top1 = parseInt(my1.style.top);
            const right1 = left1 + my1.offsetWidth; // Use offsetWidth for actual rendered width
            const bottom1 = top1 + my1.offsetHeight; // Use offsetHeight for actual rendered height

            const left2 = parseInt(my2.style.left);
            const top2 = parseInt(my2.style.top);
            const right2 = left2 + my2.offsetWidth;
            const bottom2 = top2 + my2.offsetHeight;

            return (
                right1 >= left2 &&
                bottom1 >= top2 &&
                left1 <= right2 &&
                top1 <= bottom2
            );
        }

        // Main Game Loop
        function moveCharacter() {
            let left = parseInt(img1.style.left);
            let top = parseInt(img1.style.top);

            // Movement logic
            if (keyState.d) left += speed; // Move right
            if (keyState.a) left -= speed; // Move left
            if (keyState.s) top += speed;  // Move down
            if (keyState.w) top -= speed;  // Move up

            // Update position
            img1.style.left = left + "px";
            img1.style.top = top + "px";

            // Check for collisions
            if (myHitOther(img1, img2)) {
                alert("You lose!");
                img1.style.left = "50px"; // Reset position
                img1.style.top = "0px";
            }

            // Loop animation
            setTimeout(moveCharacter, 16); // Approx. 60 FPS
        }

        // Start the Game
        moveCharacter();
    </script>

</body>
</html>
